<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <script src="../js/testGame.js"></script> -->
    <script>
        document.addEventListener("keydown", handleKeyDown);
        function handleKeyDown(event){
            var keyPressed=Number(event.keyCode);
            if(event.shiftKey){
                if(isAlphabet(keyPressed)){
                    document.getElementById("uInput").textContent=String.fromCharCode(keyPressed);
                }
                else if(isNum(keyPressed)){
                    document.getElementById("uInput").textContent=shiftedNum(keyPressed);

                }
                else if(isSign(keyPressed)){
                    console.log(keyPressed);
                    document.getElementById("uInput").textContent=String.fromCharCode(codeToShifedSign(keyPressed));
                }
            }
            else{
                console.log(keyPressed);
                if(isAlphabet(keyPressed)){
                    document.getElementById("uInput").textContent=String.fromCharCode(keyPressed+32);
                }
                else if(isNum(keyPressed)){
                    document.getElementById("uInput").textContent=String.fromCharCode(keyPressed);
                }
                else if(isSign(keyPressed)){
                    document.getElementById("uInput").textContent=String.fromCharCode(codeToSign(keyPressed));
                }
            }
        }

        function isAlphabet(keyPressed){
            if(keyPressed>=65 && keyPressed<=90){
                return true;
            }
            return false;
        }

        function isNum(keyPressed){
            return keyPressed>=48 && keyPressed<=57;
        }

        function shiftedNum(keyPressed){
            var shiftedNumMap={
                49:"!",
                50:"@",
                51:"#",
                52:"$",
                53:"%",
                54:"^",
                55:"&",
                56:"*",
                57:"(",
                48:")"
                }
            return shiftedNumMap[Number(keyPressed)];
        }
        function isSign(keyPressed){
            return (keyPressed >= 186 && keyPressed <= 192) || (keyPressed >= 219 && keyPressed <= 222);
        }

        function codeToSign(keyPressed){
            var signMap={
                192:96,
                189:45,
                187:61,
                219:91,
                221:93,
                220:92,
                186:59,
                222:39,
                188:44,
                190:46,
                191:47
            }
            return signMap[keyPressed];
        }

        function codeToShifedSign(keyPressed){
            var shiftedSignMap={
                192:126,
                189:95,
                187:43,
                219:123,
                221:125,
                220:124,
                186:58,
                222:34,
                188:60,
                190:62,
                191:63
                }
                return shiftedSignMap[keyPressed];
        }


    </script>
    

</head>
<body>
    <a>Test page</a>
    <a>User input: </a>
    <a id="uInput"></a>
</body>
</html>